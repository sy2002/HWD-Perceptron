<!--  HWD-Perceptron Client     

      done by sy2002 in April 2018

      Learn more: https://github.com/sy2002/HWD-Perceptron

      By default, the client expects the server to run at http://127.0.0.1:5000.
      You can change this by modifying variable SERVER_URL.

      Acknowledgments:
      * Front-end library: Bootstrap (getbootstrap.com) and Bootswatch Cerulean Theme
        (https://bootswatch.com/cerulean/)
      * Some of the frontend JavaScript code was adapted from myselph.de who himself
        adapted some of the code from an anonymous author from stackoverflow.com
      * The image preprocessing is according to the preprocessing that was done
        on the MNIST dataste: http://yann.lecun.com/exdb/mnist/
      * Mobile detection library: https://github.com/hgoebl/mobile-detect.js
-->

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- CHANGE SERVER_URL TO USE A DIFFERENT SERVER -->    
    <script>        
      var SERVER_URL="http://127.0.0.1:5000"

      var REST_API=SERVER_URL + "/recognize?imgdata="
      console.log("HWD-Perceptron Client, done by sy2002 in April 2018")
      console.log("Go to https://github.com/sy2002/HWD-Perceptron to learn more or to http://www.sy2002.de for more projects.")
      console.log("Using this REST API: " + REST_API)
    </script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">

    <title>HWD Perceptron</title>
  </head>

  <body>
    <style>
      .border-2 {
          border-width:2px !important;
      }      
    </style>
    <p class="lead bg-primary text-white p-3 mb-2">Handwritten Digits Recognizer</p>

    <p class="lead ml-3 mr-3">
      This demo uses a Perceptron Neural Network to recognize the digit that you
      draw in the box below. Press the Recognize button after you are done drawing
      or the Clear button if you want to start over.
    </p>

    <div class="container-fluid">
      <div class="row">
        <div class="col-sm">
          <p id="paint_here">Paint here:</p>
          <canvas id="user_digit" width="280" height="280" class="border border-2 border-primary"></canvas>
          <p>
            <button type="button" class="btn btn-primary btn-lg" onClick="doRecognize()">Recognize</button>
            <button type="button" class="btn btn-primary btn-lg" onClick="doClear()">Clear</button>
          </p>
        </div>
        <div class="col-sm">
          <p>Recognized digit:</p>
          <canvas id="nn_output" width="280" height="280" class="border border-2 border-primary"></canvas>
          <p class=></p>
        </div>
      </div>
      <div class="row">
        <div class="col-4">
          kd fsalkas dklf laksfj asldkfj alsdkfj laskdfjlksfjlkwjfe lkjwlkfwkj 
          sdkjf klj ewöjasföljkw flöwejfölkwejf lwkfjlkwfj lkwfjalksödjöklfjl
          wlefjlwkj fklwej flkwej flkwjflkwej flkjwelk jfwlkej.
        </div>
        <div class="col-sm"><img src="nn_mnist_examples.png" class="img-fluid"></div>
      </div>
    </div>

    <script>
      function doRecognize()
      {
        alert("Recognize pressed!")
      }
    </script>

    <!-- Detect device type and change help text -->
    <script src="js/mobile-detect.min.js"></script>
    <script>
        var mobile_detect = new MobileDetect(window.navigator.userAgent);
        var helptext = document.getElementById("paint_here")
        if (mobile_detect.mobile())
          helptext.innerHTML = "Draw here using your finger:"
        else
          helptext.innerHTML = "Draw here (press left mouse button):"
    </script>    

    <!-- Bootstrap JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="js/jquery-3.3.1.slim.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
